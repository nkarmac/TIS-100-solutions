@0
TOP:MOV UP, ACC
JEZ END
MOV ACC, RIGHT
SWP
ADD 1
SWP
JMP TOP
END:
SWP
MOV ACC DOWN
SWP

@1
MOV DOWN ACC #N
SWP
MOV UP ACC
MOV ACC DOWN #I
MOV ACC DOWN
MOV ACC DOWN
SWP
LOOP:MOV DOWN LEFT
SUB 1
JNZ LOOP

@2
MOV UP, ACC #N
BEG:MOV ACC, RIGHT
MOV ACC RIGHT
MOV RIGHT NIL
JMP BEG

@3
MOV LEFT, ACC #N
LOOP:MOV UP, DOWN
SUB 1
JNZ LOOP
MOV LEFT RIGHT
MOV RIGHT LEFT

@4
MOV LEFT, ACC #N
MOV ACC, UP
SUB UP
SUB 1
MOV ACC, DOWN
ADD UP
ADD 1
MOV UP DOWN #I
LOOP: MOV DOWN UP
SUB 1
JNZ LOOP
MOV 1 LEFT

@5


@6


@7
TOP:MOV UP ACC #N
SWP
MOV UP ACC #I
LOOP: JEZ FOUND
MOV LEFT UP
SUB 1
JMP LOOP
FOUND:MOV LEFT ACC
MOV ACC DOWN
MOV ACC UP
SWP
LOOP2:JEZ TOP
MOV LEFT UP
SUB 1
JMP LOOP2

@8
